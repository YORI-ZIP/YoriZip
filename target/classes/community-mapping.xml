<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="communityDAO">
	
	<resultMap id="communityResult" type="community">
		<id property="Community_id" column="Community_id"/>
		<result property="com_num" column="com_num"/> 
		<result property="com_title" column="com_title"/>
		<result property="com_content" column="com_content"/>
		<result property="com_regdate" column="com_regdate"/>
		
	</resultMap>
	
	<!-- 글 등록 -->
	<insert id="insert" parameterType="community">
	<![CDATA[  
		insert into community(Community_id, com_title, com_content, com_image, com_regdate, com_update, com_like, UserID)
		values('2', '제목1', '내용1', '1.png', sysdate, sysdate, 1,'test');
		]]>
	</insert>
	
	<!-- 글 수정 -->
	<update id="update">
		update board set title=#{title}, content=#{content} where id=#{com_id}
	</update>
	
	<!-- 글 삭제 -->
	<delete id="delete">
		delete board where id=#{com_id}
	</delete>
	
	<!-- 글 상세 조회 -->
	<select id="community_view" resultType="community">
		select * from board where id=#{com_id}
	</select>
	
	<!-- 글 목록 조회 -->
	<select id="getBoardList" resultType="board" resultMap="boardResult">
		SELECT *
		FROM community
		WHERE 1 = 1
		ORDER BY SEQ DESC
	</select>
	
</mapper>

